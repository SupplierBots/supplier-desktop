{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"electron\"","webpack:///external \"ramda\"","webpack:///external \"path\"","webpack:///external \"puppeteer-extra\"","webpack:///external \"electron-is-dev\"","webpack:///external \"fs-extra\"","webpack:///external \"electron-better-ipc\"","webpack:///external \"puppeteer/DeviceDescriptors\"","webpack:///external \"puppeteer-extra-plugin-stealth\"","webpack:///external \"cheerio\"","webpack:///external \"request-promise-native\"","webpack:///external \"electron-devtools-installer\"","webpack:///./main/verifyChromium.ts","webpack:///./main/downloadChromium.ts","webpack:///./main/bot/BrowserInstance.ts","webpack:///./main/bot/requests/autoRetryRequest.ts","webpack:///./main/bot/requests/createFetcher.ts","webpack:///./main/bot/palace/ProductFetcher.ts","webpack:///./main/bot/keywordsManager.ts","webpack:///./main/bot/palace/ProductsMonitor.ts","webpack:///./main/bot/requests/puppeteerExtensions.ts","webpack:///./main/bot/palace/palaceTask.ts","webpack:///./main/bot/BrowsersManager.ts","webpack:///./main/bot/setup/BrowserSetup.ts","webpack:///./main/setupBrowser.ts","webpack:///./main/electron.ts","webpack:///./main/IPCMainHandler.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","verifyChromium","async","appData","app","getPath","chromiumPath","path","resolve","fs","accessSync","fetcher","puppeteer","createBrowserFetcher","localRevisions","length","executablePath","revisionInfo","browser","launch","headless","page","newPage","goto","close","success","ex","console","log","removeSync","downloadChromium","e","prevPercentage","download","downloadedBytes","totalBytes","status","progress","Math","round","done","mainWindow","webContents","send","BrowserInstance","id","index","userDataDirectory","width","height","deviceScaleFactor","devices","viewport","use","StealthPlugin","devtools","ignoreHTTPSErrors","ignoreDefaultArgs","args","client","target","createCDPSession","userAgent","locale","platform","Promise","all","mobile","screenOrientation","angle","type","enabled","configuration","on","headers","accept","autoRetryRequest","url","json","response","request","timeout","encoding","gzip","JSON","parse","createFetcher","fn","delay","lastFetch","promise","isPending","onFinished","Date","now","innerFn","refresh","forceRefresh","isNaN","then","catch","ProductFetcher","constructor","variantsFetcher","this","variants","filter","v","available","map","public_title","toLowerCase","isMatch","keywords","R","positive","negative","multi","keyword","words","split","PageRegion","ProductsMonitor","region","Eu","products","productsPerPage","frontpageStatusUrl","websiteUrl","productsStatusUrl","frontpageUrl","productsUrl","fetchPromise","fetchProducts","productsAmount","getProductsAmount","pages","ceil","requests","push","requestPage","productsCount","collection","products_count","frontpage","$","cheerio","load","html","parseProductsHtml","getProductFetcher","colors","anyColor","product","find","each","attribs","attr","palaceTask","task","monitor","cookies","getProductVariant","eu","selectedVariant","size","deleteCookie","variantsPromises","payload","updates","forEach","toString","evaluate","stringify","postRequest","reload","setTimeout","checkbox","tap","addToCart","BrowsersManager","browsers","instance","data","includes","accountEmailElements","$x","accountEmailNode","email","textContent","sameEmails","ipc","callRenderer","sendToRenderers","setupBrowser","tasks","monitors","us","Us","site","cleanUps","b","isConnected","getInstance","setup","createWindow","isDev","installer","extensions","forceDownload","process","env","UPGRADE_EXTENSIONS","default","message","installExtensions","BrowserWindow","show","resizable","webPreferences","nodeIntegration","backgroundThrottling","loadURL","join","__dirname","once","openDevTools","props","Menu","buildFromTemplate","label","click","inspectElement","x","y","popup","ipcMain","event","reply","quit","handle"],"mappings":"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","file":"electron.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","module.exports = require(\"electron\");","module.exports = require(\"ramda\");","module.exports = require(\"path\");","module.exports = require(\"puppeteer-extra\");","module.exports = require(\"electron-is-dev\");","module.exports = require(\"fs-extra\");","module.exports = require(\"electron-better-ipc\");","module.exports = require(\"puppeteer/DeviceDescriptors\");","module.exports = require(\"puppeteer-extra-plugin-stealth\");","module.exports = require(\"cheerio\");","module.exports = require(\"request-promise-native\");","module.exports = require(\"electron-devtools-installer\");","import { app, IpcMainInvokeEvent } from 'electron';\nimport path from 'path';\nimport fs from 'fs-extra';\nimport puppeteer from 'puppeteer-extra';\n\nexport const verifyChromium = async (e: IpcMainInvokeEvent) => {\n  const appData = app.getPath('userData');\n  const chromiumPath = path.resolve(appData, '.local-chromium');\n  try {\n    fs.accessSync(chromiumPath);\n    const fetcher = puppeteer.createBrowserFetcher({\n      path: chromiumPath,\n    });\n\n    const versions = await fetcher.localRevisions();\n    if (versions.length < 1) return false;\n\n    const executablePath = fetcher.revisionInfo('662092').executablePath;\n    const browser = await puppeteer.launch({\n      executablePath,\n      headless: false,\n    });\n\n    const page = await browser.newPage();\n    await page.goto('https://www.google.com/');\n    await browser.close();\n\n    return { success: true, executablePath };\n  } catch (ex) {\n    console.log('Error while testing browser.');\n    console.log(ex);\n    fs.removeSync(chromiumPath);\n    return { success: false, executablePath: 'fail' };\n  }\n};\n","import { IpcMainEvent, app } from 'electron';\nimport path from 'path';\nimport puppeteer from 'puppeteer-extra';\nimport { mainWindow } from './electron';\n\nconst downloadChromium = (e: IpcMainEvent) => {\n  const chromiumPath = path.resolve(app.getPath('userData'), '.local-chromium');\n  const fetcher = puppeteer.createBrowserFetcher({ path: chromiumPath });\n\n  let prevPercentage = 0;\n\n  fetcher.download('662092', async (downloadedBytes: number, totalBytes: number) => {\n    const status = {\n      progress: Math.round((downloadedBytes / totalBytes) * 100),\n      done: downloadedBytes === totalBytes,\n    };\n\n    if (status.progress > prevPercentage || status.done) {\n      prevPercentage = status.progress;\n      mainWindow?.webContents.send('CHROMIUM_DOWNLOAD_PROGRESS', status);\n    }\n  });\n};\nexport { downloadChromium };\n","import path from 'path';\nimport puppeteer from 'puppeteer-extra';\nimport devices from 'puppeteer/DeviceDescriptors';\nimport StealthPlugin from 'puppeteer-extra-plugin-stealth';\nimport { mainWindow } from '../electron';\nimport { app } from 'electron';\n\nconst BrowserInstance = async (id: string, index = 0) => {\n  console.log('START!');\n  mainWindow?.webContents.send('BROWSER_STATE_CHANGE', { id, status: true });\n\n  const appData = app.getPath('userData');\n  const fetcher = puppeteer.createBrowserFetcher({\n    path: path.resolve(appData, '.local-chromium'),\n  });\n  const executablePath = fetcher.revisionInfo('662092').executablePath;\n  const userDataDirectory = path.resolve(appData, id);\n  const { width, height, deviceScaleFactor } = devices['Pixel 2'].viewport;\n\n  puppeteer.use(StealthPlugin());\n  const browser = await puppeteer.launch({\n    headless: false,\n    devtools: false,\n    ignoreHTTPSErrors: true,\n    ignoreDefaultArgs: ['--enable-automation'],\n    args: [\n      '--disable-infobars',\n      '--no-first-run',\n      '--enable-features=NetworkService',\n      `--user-data-dir=${userDataDirectory}`,\n      `--window-size=${width},${height + 82}`,\n      `--window-position=${0 + 500 * index},0`,\n    ],\n    executablePath,\n  });\n\n  const page = await browser.newPage();\n  const client = await page.target().createCDPSession();\n\n  client.send('Network.setUserAgentOverride', {\n    userAgent:\n      'Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3803.0 Mobile Safari/537.36',\n    locale: `en-US,en`,\n    platform: 'linux',\n  });\n\n  await Promise.all([\n    client.send('Emulation.setDeviceMetricsOverride', {\n      mobile: true,\n      width,\n      height,\n      deviceScaleFactor,\n      screenOrientation: { angle: 0, type: 'portraitPrimary' },\n    }),\n    client.send('Emulation.setTouchEmulationEnabled', {\n      enabled: true,\n    }),\n    client.send('Emulation.setEmitTouchEventsForMouse', {\n      enabled: true,\n      configuration: 'desktop',\n    }),\n  ]);\n\n  page.on('close', async () => {\n    await browser.close();\n  });\n\n  browser.on('disconnected', async () => {\n    mainWindow?.webContents.send('BROWSER_STATE_CHANGE', { id, status: false });\n  });\n\n  return browser;\n};\nexport default BrowserInstance;\n","import request from 'request-promise-native';\n\nconst headers = {\n  accept:\n    'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',\n  'accept-encoding': 'gzip, deflate, br',\n  'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8',\n  'sec-fetch-mode': 'navigate',\n  'sec-fetch-site': 'none',\n  'upgrade-insecure-requests': '1',\n  'user-agent':\n    'Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3803.0 Mobile Safari/537.36',\n};\n\nconst autoRetryRequest = async <T>(url: string, json = false): Promise<T> => {\n  try {\n    const response = await request.get(url, {\n      headers,\n      timeout: 3000,\n      encoding: 'utf-8',\n      gzip: true,\n    });\n    return json ? (JSON.parse(response) as T) : (response as T);\n  } catch (ex) {\n    console.log(ex);\n    return autoRetryRequest(url);\n  }\n};\n\nexport default autoRetryRequest;\n","const createFetcher = <T>(fn: () => Promise<T>, delay = 0) => {\n  let promise: null | Promise<T> = null;\n  let isPending = false;\n  let lastFetch: number;\n\n  const onFinished = () => {\n    isPending = false;\n    lastFetch = Date.now();\n  };\n\n  const innerFn = (refresh = false, forceRefresh = false) => {\n    if (\n      promise === null ||\n      (!isPending && forceRefresh) ||\n      (!isPending && refresh && (isNaN(lastFetch) || Date.now() - lastFetch > delay))\n    ) {\n      isPending = true;\n      promise = fn();\n      promise.then(onFinished).catch(onFinished);\n    }\n    return promise;\n  };\n\n  return {\n    get: () => innerFn(false),\n    refresh: () => innerFn(true),\n    forceRefresh: () => innerFn(false, true),\n  };\n};\n\nexport { createFetcher };\n","import autoRetryRequest from '../requests/autoRetryRequest';\nimport { createFetcher } from '../requests/createFetcher';\nimport { ProductDetails } from 'types/Palace';\n\nclass ProductFetcher {\n  constructor(private readonly url: string) {}\n\n  public variantsFetcher = createFetcher(async () => {\n    const details = await autoRetryRequest<ProductDetails>(this.url, true);\n    const variants = details.variants\n      .filter(v => v.available)\n      .map(v => ({ id: v.id, name: v.public_title.toLowerCase() }));\n    return variants;\n  });\n}\n\nexport default ProductFetcher;\n","import { Keywords } from 'types/Keywords';\nimport * as R from 'ramda';\n\nconst isMatch = (name: string, keywords: Keywords) => {\n  name = name.toLowerCase();\n\n  if (!R.all(R.includes(R.__, name))(keywords.positive)) return false;\n\n  if (R.any(R.includes(R.__, name))(keywords.negative)) return false;\n\n  if (!keywords.multi) return true;\n\n  for (const keyword of keywords.multi) {\n    const words = keyword.split(' | ');\n    if (R.none(R.includes(R.__, name))(words)) return false;\n  }\n\n  return true;\n};\n\nexport { isMatch };\n","import cheerio from 'cheerio';\nimport * as R from 'ramda';\nimport autoRetryRequest from '../requests/autoRetryRequest';\nimport { createFetcher } from '../requests/createFetcher';\nimport ProductFetcher from './ProductFetcher';\nimport { Keywords } from 'types/Keywords';\nimport { isMatch } from '../keywordsManager';\nimport { Product } from 'types/Product';\nimport { Collection } from 'types/Palace';\n\nexport enum PageRegion {\n  Us,\n  Eu,\n}\n\ninterface ProductLocation {\n  name: string;\n  url: string;\n  fetcher?: ProductFetcher;\n}\n\nclass ProductsMonitor {\n  private products: ProductLocation[] = [];\n  private productsPerPage = 30;\n\n  private frontpageStatusUrl = `${this.websiteUrl}collections/frontpage.json`;\n  private productsStatusUrl = `${this.websiteUrl}collections/new.json`;\n\n  private frontpageUrl = `${this.websiteUrl}collections/frontpage?page=`;\n  private productsUrl = `${this.websiteUrl}collections/new?page=`;\n\n  private fetchPromise: Promise<void[]> | null = null;\n\n  private get websiteUrl() {\n    return `https://shop${this.region === PageRegion.Eu ? '' : '-usa'}.palaceskateboards.com/`;\n  }\n\n  constructor(private readonly region: PageRegion) {}\n\n  public fetchProducts = createFetcher(async () => {\n    const productsAmount = await this.getProductsAmount();\n    const pages = Math.ceil(productsAmount / this.productsPerPage);\n\n    this.products = [];\n\n    const requests: Promise<void>[] = [];\n    for (let i = 1; i < pages + 1; i++) {\n      requests.push(this.requestPage(i, true));\n    }\n    this.fetchPromise = Promise.all(requests);\n\n    await this.fetchPromise;\n    return this.products;\n  });\n\n  private getProductsAmount = async () => {\n    const productsStatus = await autoRetryRequest<Collection>(this.productsStatusUrl, true);\n    const productsCount = productsStatus.collection.products_count;\n    if (productsCount > 0) return productsCount;\n\n    const frontpageStatus = await autoRetryRequest<Collection>(this.frontpageStatusUrl, true);\n    return frontpageStatus.collection.products_count;\n  };\n\n  private requestPage = async (page: number, frontpage = false) => {\n    const url = (frontpage ? this.frontpageUrl : this.productsUrl) + page;\n    const response = await autoRetryRequest<string>(url);\n    const $ = cheerio.load(response);\n    const html = $('.product-grid-item');\n    this.parseProductsHtml($, html);\n  };\n\n  public getProductFetcher = async ({ keywords, colors, anyColor }: Product) => {\n    await this.fetchProducts.get();\n    const product = this.products.find(\n      p => isMatch(p.name, keywords) && (isMatch(p.name, colors) || anyColor),\n    );\n    if (!product) return null;\n    if (!product.fetcher) product.fetcher = new ProductFetcher(product.url);\n\n    return product.fetcher.variantsFetcher;\n  };\n\n  private parseProductsHtml = ($: CheerioStatic, html: Cheerio) => {\n    html.each((i, product) => {\n      const name = product.attribs['data-alpha'];\n      const url = `${this.websiteUrl +\n        $(product)\n          .find('.product-link')\n          .attr('href')}.js`;\n\n      this.products.push({ name, url });\n    });\n  };\n}\n\nexport default ProductsMonitor;\n","import { Serializable } from 'child_process';\nimport { Page } from 'puppeteer';\n\nconst postRequest = async <T>(page: Page, url: string, payload: Serializable) => {\n  console.log(payload);\n  try {\n    //* See: https://github.com/puppeteer/puppeteer/issues/1665\n    const response = await page?.evaluate(`(async() => {\n      const response = await fetch(window.location.origin + \"${url}\", {\n        method: 'POST',\n        body: JSON.stringify(${JSON.stringify(payload)}),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      return await response.json();\n    })()`);\n    return { success: true, response: response as T };\n  } catch (ex) {\n    return { success: false, response: null };\n  }\n};\n\nexport { postRequest };\n","import { Browser } from 'puppeteer';\nimport { Task } from 'types/Task';\nimport * as R from 'ramda';\nimport { Product } from 'types/Product';\nimport { postRequest } from '../requests/puppeteerExtensions';\nimport { PalaceMonitors } from 'types/PalaceMonitors';\n\ninterface CartPayload {\n  updates: {\n    [key: string]: 1;\n  };\n}\n\nconst palaceTask = async (browser: Browser, task: Task, monitor: PalaceMonitors) => {\n  const pages = await browser.pages();\n  const page = R.last(pages);\n  if (!page) return;\n  const cookies = await page.cookies('https://shop.palaceskateboards.com/');\n  await page.deleteCookie(...cookies);\n  await page.goto('https://shop.palaceskateboards.com/cart');\n  addToCart();\n\n  async function addToCart() {\n    if (!page) return;\n\n    let variantsPromises: Promise<number>[] = [];\n    for (const product of task.products) {\n      variantsPromises.push(getProductVariant(product));\n    }\n    const variants = await Promise.all(variantsPromises);\n    const payload: CartPayload = { updates: {} };\n    const availableVariants = variants.filter(v => v !== -1);\n    availableVariants.forEach(v => (payload.updates[v.toString()] = 1));\n    const response = await postRequest(page, '/cart/update.js', payload);\n    if (response.success) await page.reload();\n    //span[contains(text(),'I agree')]\n    setTimeout(async () => {\n      const checkbox = await page.$('.checkbox-msg');\n      if (checkbox) await checkbox.tap();\n    }, 3000);\n  }\n\n  async function getProductVariant(product: Product) {\n    const fetcher = await monitor.eu.getProductFetcher(product);\n    const variants = await fetcher?.get();\n    const selectedVariant = variants?.find(v => v.name === product.size?.value.toLowerCase());\n    if (!selectedVariant) return -1;\n    return selectedVariant.id;\n  }\n};\n\nexport { palaceTask };\n","import BrowserInstance from './BrowserInstance';\nimport { setupBrowser } from './setup/BrowserSetup';\nimport { BrowserData } from 'types/BrowserData';\nimport { Browser } from 'puppeteer';\nimport * as R from 'ramda';\nimport { Task } from 'types/Task';\nimport ProductsMonitor, { PageRegion } from './palace/ProductsMonitor';\nimport { palaceTask } from './palace/palaceTask';\nimport { PalaceMonitors } from 'types/PalaceMonitors';\n\nclass BrowsersManager {\n  private static instance: BrowsersManager;\n  private browsers: Browser[] = [];\n  private constructor() {}\n\n  public static getInstance(): BrowsersManager {\n    this.instance = this.instance ?? new BrowsersManager();\n    return this.instance;\n  }\n\n  public async setup(data: BrowserData) {\n    try {\n      const browser = await BrowserInstance(data.id);\n      this.browsers.push(browser);\n      const pages = await browser.pages();\n      const page = R.last(pages);\n      if (!page) {\n        browser.close();\n        return;\n      }\n      setupBrowser(page, data.id);\n    } catch {\n      //store.dispatch(setActive(data.id, false));\n    }\n  }\n\n  public async startTasks(tasks: Task[]) {\n    const monitors: PalaceMonitors = {\n      eu: new ProductsMonitor(PageRegion.Eu),\n      us: new ProductsMonitor(PageRegion.Us),\n    };\n\n    tasks.forEach(async (task, index) => {\n      if (!task.browser) return;\n      const browser = await BrowserInstance(task.browser?.value, index);\n      this.browsers.push(browser);\n      if (task.site?.value === 'palace') {\n        palaceTask(browser, task, monitors);\n      }\n    });\n  }\n\n  public async stopAll() {\n    const cleanUps: Promise<void>[] = [];\n    this.browsers.forEach(b => {\n      if (!b.isConnected()) return;\n      cleanUps.push(b.close());\n    });\n    this.browsers = [];\n    await Promise.all(cleanUps);\n  }\n}\n\nexport default BrowsersManager;\n","import { Page } from 'puppeteer';\nimport { ipcMain as ipc } from 'electron-better-ipc';\nimport { mainWindow } from '../../electron';\nimport { BrowserData } from 'types/BrowserData';\n\nconst setupBrowser = async (page: Page, id: string) => {\n  const browser = page.browser();\n\n  if (!page) {\n    browser.close();\n    return;\n  }\n\n  await page.goto(\n    'https://accounts.google.com/signin/v2/identifier?flowName=GlifWebSignIn&flowEntry=ServiceLogin&hl=en',\n  );\n\n  page.on('load', async () => {\n    if (!mainWindow) return;\n    const url = page.url();\n    if (!url.includes('https://myaccount.google.com/')) return;\n    const accountEmailElements = await page.$x(\"//div[contains(text(),'@gmail.com')]\");\n    if (accountEmailElements.length < 1) return;\n    const [accountEmailNode] = accountEmailElements;\n    let email = await page.evaluate(e => e.textContent, accountEmailNode);\n\n    const sameEmails = await ipc.callRenderer<string, BrowserData[]>(\n      mainWindow,\n      'GET_SAME_EMAILS',\n      email,\n    );\n\n    if (sameEmails.length > 0) {\n      email += ` (${sameEmails.length + 1})`;\n    }\n    ipc.sendToRenderers('SET_BROWSER_EMAIL', { id, email });\n    browser.close();\n  });\n};\nexport { setupBrowser };\n","import { IpcMainEvent } from 'electron';\nimport { BrowserData } from '../src/types/BrowserData';\nimport BrowsersManager from './bot/BrowsersManager';\n\nconst setupBrowser = (e: IpcMainEvent, data: BrowserData) => {\n  BrowsersManager.getInstance().setup(data);\n};\n\nexport { setupBrowser };\n","import electron, {\n  app,\n  BrowserWindow,\n  Menu,\n  BrowserWindowConstructorOptions,\n  ipcMain,\n} from 'electron';\nimport path from 'path';\nimport isDev from 'electron-is-dev';\n\nimport { setupListeners } from './IPCMainHandler';\n\nlet mainWindow: electron.BrowserWindow | null;\n\nconst installExtensions = async () => {\n  const installer = require('electron-devtools-installer');\n  const extensions = ['REACT_DEVELOPER_TOOLS', 'REDUX_DEVTOOLS'];\n  const forceDownload = !!process.env.UPGRADE_EXTENSIONS;\n  for (const name of extensions) {\n    try {\n      await installer.default(installer[name], forceDownload);\n    } catch (e) {\n      console.log(`Error installing ${name} extension: ${e.message}`);\n    }\n  }\n};\n\nconst createWindow = () => {\n  if (isDev) {\n    installExtensions();\n  }\n\n  let launchOptions: BrowserWindowConstructorOptions = {\n    width: 1200,\n    height: 750,\n    show: false,\n    resizable: false,\n    webPreferences: {\n      nodeIntegration: true,\n      backgroundThrottling: false,\n    },\n  };\n\n  mainWindow = new BrowserWindow(launchOptions);\n\n  //mainWindow.loadURL(`file://${path.join(__dirname, '../build/index.html')}`);\n\n  mainWindow.loadURL(\n    isDev ? 'http://localhost:3000' : `file://${path.join(__dirname, '../build/index.html')}`,\n  );\n  mainWindow.webContents.once('did-finish-load', () => {\n    if (mainWindow) {\n      mainWindow.show();\n\n      if (isDev) {\n        mainWindow.webContents.openDevTools();\n\n        // * Create context menu to inspect element on right click\n        mainWindow.webContents.on('context-menu', (e, props) => {\n          Menu.buildFromTemplate([\n            {\n              label: 'Inspect element',\n              click: () => {\n                (mainWindow as any).inspectElement(props.x, props.y);\n              },\n            },\n          ]).popup(mainWindow as any);\n        });\n      }\n    }\n  });\n  mainWindow.on('closed', () => (mainWindow = null));\n\n  // * IPCEventMain type to be fixed in 6.0 | Read more: https://github.com/electron/typescript-definitions/issues/27\n  ipcMain.on('asynchronous-message', (event: any, message: string) => {\n    event.reply('asynchronous-reply', `Received ${message}!`);\n  });\n};\n\napp.on('ready', createWindow);\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit();\n  }\n});\n\napp.on('activate', () => {\n  if (mainWindow === null) {\n    createWindow();\n  }\n});\n\nexport { mainWindow };\n\nsetupListeners();\n","import { ipcMain } from 'electron';\nimport { verifyChromium } from './verifyChromium';\nimport { downloadChromium } from './downloadChromium';\nimport { setupBrowser } from './setupBrowser';\n\nconst setupListeners = () => {\n  ipcMain.handle('VERIFY_CHROME', verifyChromium);\n  ipcMain.on('DOWNLOAD_CHROMIUM', downloadChromium);\n  ipcMain.on('SETUP_BROWSER', setupBrowser);\n};\n\nexport { setupListeners };\n"],"sourceRoot":""}